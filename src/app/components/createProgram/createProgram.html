<div class="component">
  <div class="col-xs-12 title animated"> 
    <div class="col-xs-12 text-center"><h1>Create Your Workout</h1></div> 
  </div>
  <div class="col-xs-12 lowerBody animated">
    <form name="formCtrl" ng-submit="$ctrl.saveProgram()">
    <div class="col-sm-4 col-sm-offset-2 listExercise text-center animated" id="myWOlist">     
      <div class="col-xs-12"><h2>Your Workout</h2></div>
      <div class="col-xs-12">
      	<h2>
          Title          
        </h2> 
        <input id="progTitle" ng-model="$ctrl.programTitle" type="text" name="title" required/>
      </div>
      <ul ui-sortable="sortableOptions" ng-model="$ctrl.exercisesNew" class="list-group col-xs-12">
        <li ng-repeat="item in $ctrl.exercisesNew track by $index" class="item list-group-item col-xs-12" ng-class="'orderId'+$index">
          <div class="col-xs-5">
            <div class="itemName">{{item.name}}</div>
          </div>              
          <div class="YWBtn col-xs-4 col-xs-offset-3 btn-group">
            <span title="Move up" class="btn btn-default glyphicon glyphicon-menu-up col-xs-3" ng-click="$ctrl.HighlowChange($index, item, false)"></span> 
            <span title="Move down" class="btn btn-default glyphicon glyphicon-menu-down col-xs-3" ng-click="$ctrl.HighlowChange($index, item, true)"></span>  
            <span title="Remove" class="btn btn-default glyphicon glyphicon-minus col-xs-6" ng-click="$ctrl.removeExercise($index)"></span>                 
          </div>
          <div class="col-xs-12 text-left">
            <div class="col-xs-3">
              Sets
              <input type="number" min="1" class="exeInput" name="nbSets" ng-model="$ctrl.exercisesNew[$index].nbSets" required>
            </div>
            <div class="col-xs-3">
              Weight
              <input type="number" min="0" name="exeUnitWeight" class="exeInput" ng-model="$ctrl.exercisesNew[$index].exeUnitWeight">   
            </div>                                    
          </div>  
          <div class="col-xs-12 text-left">
            <div class="col-sm-6">
              Time
              <input type="time" step="1" name="exeUnitTime" class="exeInput timeInput" ng-model="$ctrl.exercisesNew[$index].exeUnitTime">
            </div>
            <div class="col-sm-5">
              Rest period
              <input type="time" step="1" name="exeUnitRest" class="exeInput timeInput" ng-model="$ctrl.exercisesNew[$index].exeUnitRest">
            </div>  
            <div class="col-sm-1">
              <span ng-click="$ctrl.showObjectives($index)" class="btn btn-default glyphicon " ng-class="item.showObjectives ? 'glyphicon-triangle-top' : 'glyphicon-triangle-bottom'"></span>  
            </div>                    
          </div>
          <div class="col-xs-12 animated" id="Objective{{$index}}" ng-hide="!$ctrl.exercisesNew[$index].showObjectives">
            <hr>
            <div class="col-xs-12 text-center"><strong>Objectives</strong></div>
            <div class="col-xs-12">            
              <div class="col-sm-6">
                Reps
                <input type="number" min="0" name="exeObjRep" class="exeInput" ng-model="$ctrl.exercisesNew[$index].exeObjRep">
              </div> 
              <div class="col-sm-6">              
                Time
                <select name="exeObjTimeType" ng-model="$ctrl.exercisesNew[$index].exeObjTimeType" ng-required="$ctrl.exercisesNew[$index].exeObjTime">
                  <option value="plus">
                    +
                  </option>
                  <option value="minus">
                    -
                  </option>
                </select>
                <input type="time" step="1" name="exeObjTime" class="exeInput timeInput" ng-model="$ctrl.exercisesNew[$index].exeObjTime" ng-required="$ctrl.exercisesNew[$index].exeObjTimeType">
              </div>              
            </div>
            <div class="col-xs-12"> 
              <div class="col-xs-12 text-center"><strong>Increments</strong></div>           
              <div class="col-sm-6">
                Weight
                <input type="number" min="0" name="exeObjRep" class="exeInput" ng-model="$ctrl.exercisesNew[$index].exeObjWeightInc" ng-required="$ctrl.exercisesNew[$index].exeObjRep">
              </div> 
              <div class="col-sm-6">
                Time                
                <input type="time" step="1" name="exeObjTime" class="exeInput timeInput" ng-model="$ctrl.exercisesNew[$index].exeObjTimeInc" ng-required="$ctrl.exercisesNew[$index].exeObjTimeType">
              </div>              
            </div>                        
          </div>
        </li>
      </ul>
      <input type="submit" class="saveBtn btn btn-default glyphicon glyphicon-floppy-disk" value="Save Workout">
    </div>    
    </form>    
    <div class="col-sm-1 text-center animated bounceIn">
    	<button id="hideDbList" ng-click="$ctrl.hideDbList()" class="btn btn-default glyphicon glyphicon-arrow-right"></button>
    </div>
    <div class="col-sm-4 listExercise text-center animated" id="dataList">           
      <div class="col-xs-12">      
        <h2>Database Exercises</h2>
        <button class="saveBtn btn btn-default" ng-click="$ctrl.createExe()">Create New Exercise</button>
        <div>          
          <label>Search <input type="textbox" name="Search" ng-model="$ctrl.searchText"></label>
          <strong>Categories</strong>
          <select id="catList" name="categories" ng-model="$ctrl.selectedCat" ng-change="$ctrl.changeCat()">
            <option ng-repeat="cat in $ctrl.categories track by $index" value="{{cat.id}}">
              {{cat.name}}
            </option>
            <option value="0">
              Own Exercises
            </option>
         </select>
        </div>
      </div>          
      <ul ui-sortable="sortableOptions" ng-model="$ctrl.exercises" class="list-group">
        <li ng-repeat="item in $ctrl.exercises | filter:$ctrl.searchText track by $index" class="item list-group-item col-xs-12 animated" id="DbItem{{$index}}">
          <div class="DbBtn col-xs-4">
            <span title="Add to workout" class="btn btn-default glyphicon glyphicon-plus" ng-click="$ctrl.selectExercise($ctrl.exercises[$index], $index)"></span>
            <span title="Detail" class="btn btn-default glyphicon glyphicon-fullscreen" ng-click="$ctrl.getDetail(item.id)"></span>
            <span title="Delete" class="btn btn-default glyphicon glyphicon-trash" ng-click="$ctrl.deleteExe($index)" ng-hide="$ctrl.activeDelete"></span>
          </div>
          <div class="itemName col-xs-7 col-xs-offset-1">{{item.name}}</div>    
        </li>
      </ul>
      <button id="affPlusBtn" class="btn btn-default" ng-click="$ctrl.afficherPlus()" ng-hide="$ctrl.selectedCat == 0">Afficher plus</button>      
    </div>
    
  </div>
<div id="overBody" class="col-xs-12" ng-show="$ctrl.overBody" ></div>
<exe-detail exe-detail-id="$ctrl.exeDetailId" own-exe="$ctrl.selectedCat" over-body="$ctrl.showHideOverBody()"></exe-detail>
<exe-new on-save="$ctrl.changeCat()" over-body="$ctrl.showHideOverBody()"></exe-new>

</div> 
